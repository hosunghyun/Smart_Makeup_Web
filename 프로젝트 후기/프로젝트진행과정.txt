
2024-09-27
프로젝트를 진행하면서 회원 가입 기능을 구현하였고 그 다음으로 회원 가입 시 아이디가 중복되는지 확인하는 기능을 구현하고 있었습니다.
정확하게 fetch 를 작성하였고 민감한 정보인 아이디였기 때문에 POST 형식으로 전송하였습니다. 하지만 데이터가 전송이 되지 않았습니다.
400 즉 주소를 못찾는 문제가 발생하였고 alert으로 계속 확인했을 때는 .value 시에 값이 제대로 읽히는 것 까지 확인하였습니다. 하지만 
버튼을 클릭 시 데이터는 읽지 못해 주소가 문제가 발생하는 것을 알게 되었습니다.
해결 방법은 자바스크립트가 블록 스코프인 것을 깜빡하고 있었고 이벤트리스너 안에서는 초기값을 가진다는 것을 생각해냈습니다.
그래서 주소로 읽을 값을 이벤트리스너 안에서 정의하였고 스프링 부트에서 데이터가 정확하게 전송되는 것을 확인할 수 있었습니다.

2024-09-28
fetch 문제를 해결하였으나 @PostMapping를 사용하는 함수에 레포지토리에서 id 값을 못찾는 문제가 발생하였습니다. fetch에서 중복을
찾기위해 유저 아이디를 전송했고 레포지토리는 String 타입으로 저장되었기 때문에 String 타입으로 받았으나 JSON 형식으로 전송되기
때문에 문제가 발생하였습니다. 그래서 찾아본 결과 JSON으로 오기 때문에 한번 파싱 작업을 해야한다는 것을 알게 되었습니다. 그래서
finduser(@RequestBody UserDTO users) 로 DTO 형식으로 변경하자 아이디 값을 찾을 수 있었습니다.